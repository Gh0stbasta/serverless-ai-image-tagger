# 2. Relaxed CORS Policy for S3 Uploads (Wildcard)

Date: 2026-01-07
Status: Accepted (Technical Debt)

## Context
The frontend application requires direct upload access to the S3 bucket (Browser-to-S3 pattern).
During the current MVP and development phase, the frontend runs in highly dynamic environments (Localhost, GitHub Codespaces with random port forwarding URLs, Vercel Previews). Hardcoding allowed origins is currently impractical and slows down development velocity.

## Decision
We will configure the S3 Bucket Cross-Origin Resource Sharing (CORS) policy to allow **all** origins temporarily:
`allowedOrigins: ['*']`

## Consequences
* **Positive:**
    * **High Velocity:** Developers encounter zero CORS blocking issues when switching environments.
    * **Compatibility:** Works seamlessly with GitHub Codespaces dynamic URLs and local testing.
* **Negative:**
    * **Security Risk:** Theoretically allows any website to trigger requests against our bucket endpoint (though actual upload still requires a valid Pre-signed URL).
    * **Production Readiness:** Not suitable for a live public environment.
* **Mitigation / Exit Strategy:**
    * Access is effectively controlled via **Pre-signed URLs** (generated by authenticated Lambda), not just CORS.
    * **Mandatory:** Before the Production/V1.0 release, this configuration must be replaced by a strict whitelist injected via Environment Variables (e.g., `['https://app.example.com']`).
